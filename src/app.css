@import 'tailwindcss';
@plugin '@tailwindcss/forms';
@plugin '@tailwindcss/typography';

:root {
	--text-shadow-retro:
		3px 3px 0 #000, -1.5px -1.5px 0 #000, 0 -1.5px 0 #000, 1.5px -1.5px 0 #000, 1.5px 0 0 #000,
		1.5px 1.5px 0 #000, 0 1.5px 0 #000, -1.5px 1.5px 0 #000, -1.5px 0 0 #000;
	--text-shadow-retro-sm:
		2px 2px 0 #000, -1px -1px 0 #000, 0 -1px 0 #000, 1px -1px 0 #000, 1px 0 0 #000, 1px 1px 0 #000,
		0 1px 0 #000, -1px 1px 0 #000, -1px 0 0 #000;

	--color-midnight-blue: #21285a;
	--color-deep-indigo: #233270;
	--color-deep-plumb: #291052;
	--color-deep-violet: #1c0a57;
	--color-burnt-orange: #c15d02;
}

@theme {
	--shadow-inset: inset 0 0 10px 20px rgba(38, 81, 177, 0.5);
	--color-panel: var(--color-midnight-blue);
	--color-ticker: var(--color-deep-indigo);
	--color-header: var(--color-deep-violet);
	--font-family-star: 'Star4000', monospace;
	--font-family-star-small: 'Star4000Small', monospace;
	--font-family-star-large: 'Star4000Large', monospace;
	--font-family-star-extended: 'Star4000Extended', monospace;
}

@font-face {
	font-family: 'Star4000';
	src: url('/fonts/Star4000.woff') format('woff');
	font-display: block;
}

@font-face {
	font-family: 'Star4000Small';
	src: url('/fonts/Star4000Small.woff') format('woff');
	font-display: block;
}

@font-face {
	font-family: 'Star4000Large';
	src: url('/fonts/Star4000Large.woff') format('woff');
	font-display: block;
}

@font-face {
	font-family: 'Star4000Extended';
	src: url('/fonts/Star4000Extended.woff') format('woff');
	font-display: block;
}

@layer utilities {
	@layer utilities {
		.clip-angled-right {
			/* Default: offset from container right edge */
			--clip-offset-top: 100px;
			--clip-offset-bottom: 160px;

			clip-path: polygon(
				0 0,
				calc(100% - var(--clip-offset-top)) 0,
				calc(100% - var(--clip-offset-bottom)) 100%,
				0 100%
			);

			/* Responsive adjustments based on container width 
			@container (max-width: 640px) {
				--clip-offset-top: 180px;
				--clip-offset-bottom: 240px;
			}

			@container (min-width: 641px) and (max-width: 768px) {
				--clip-offset-top: 220px;
				--clip-offset-bottom: 280px;
			} */
		}

		.header-gradient {
			/* Below 968px: clip-path relative to viewport width */
			clip-path: polygon(0 0, calc(100vw - 100px) 0, calc(100vw - 160px) 100%, 0 100%);
		}

		/* Above 968px: clip-path relative to centered content position */
		@media (min-width: 968px) {
			.header-gradient {
				clip-path: polygon(0 0, calc(50vw + 484px - 100px) 0, calc(50vw + 484px - 160px) 100%, 0 100%);
			}
		}
	}

	.text-shadow {
		text-shadow: var(--text-shadow-retro);
	}

	.text-shadow-sm {
		text-shadow: var(--text-shadow-retro-sm);
	}

	.bg-sunset-gradient {
		background-image: linear-gradient(
			to bottom,
			var(--color-deep-plumb),
			var(--color-burnt-orange)
		);
	}

	.bg-twilight-gradient {
		background-image: linear-gradient(
			to bottom,
			var(--color-burnt-orange),
			var(--color-deep-plumb)
		);
	}

	/* Solid interior ("stage") color */
	.wx-stage {
		/* set once, change if you want a different navy */
		--stage: #1f2753;
		background: var(--stage);
	}

	/* Smooth uniform inset gradient frame (no mitering) */
	.wx-smooth-frame {
		position: relative;
		isolation: isolate;

		/* DEFAULTS live on the element so they can be overridden */
		--frame: 52px; /* thickness; override per element: [--frame:60px] */
		--h: 224; /* hue */
		--s: 68%; /* saturation */
		--a: 0.62; /* max edge alpha */
	}

	.wx-smooth-frame::before {
		content: '';
		position: absolute;
		inset: 0;
		pointer-events: none;
		border-radius: inherit;

		/* 10-stop inward ramp */
		box-shadow:
			inset 0 0 0 calc(var(--frame) * 0.06) hsl(var(--h) var(--s) 62% / calc(var(--a) * 0.9)),
			inset 0 0 0 calc(var(--frame) * 0.12) hsl(var(--h) var(--s) 60% / calc(var(--a) * 0.7)),
			inset 0 0 0 calc(var(--frame) * 0.18) hsl(var(--h) var(--s) 58% / calc(var(--a) * 0.55)),
			inset 0 0 0 calc(var(--frame) * 0.24) hsl(var(--h) var(--s) 56% / calc(var(--a) * 0.43)),
			inset 0 0 0 calc(var(--frame) * 0.3) hsl(var(--h) var(--s) 54% / calc(var(--a) * 0.34)),
			inset 0 0 0 calc(var(--frame) * 0.38) hsl(var(--h) var(--s) 52% / calc(var(--a) * 0.26)),
			inset 0 0 0 calc(var(--frame) * 0.46) hsl(var(--h) var(--s) 50% / calc(var(--a) * 0.2)),
			inset 0 0 0 calc(var(--frame) * 0.58) hsl(var(--h) var(--s) 48% / calc(var(--a) * 0.14)),
			inset 0 0 0 calc(var(--frame) * 0.72) hsl(var(--h) var(--s) 46% / calc(var(--a) * 0.09)),
			inset 0 0 0 var(--frame) hsl(var(--h) var(--s) 44% / calc(var(--a) * 0.05));
	}
}

@layer components {
	.font-star {
		font-family: 'Star4000', monospace;
		text-shadow: var(--text-shadow-retro);
	}

	.font-star-small {
		font-family: 'Star4000Small', monospace;
		text-shadow: var(--text-shadow-retro-sm);
	}

	.font-star-large {
		font-family: 'Star4000Large', monospace;
		text-shadow: var(--text-shadow-retro);
	}

	.font-star-extended {
		font-family: 'Star4000Extended', monospace;
		text-shadow: var(--text-shadow-retro);
	}
}

/* Scanline effect for a retro look */
.weatherstar-scanlines {
	position: relative;
}

.weatherstar-scanlines::after {
	content: '';
	position: absolute;
	inset: 0;
	background: repeating-linear-gradient(
		180deg,
		transparent 0px,
		transparent 2px,
		rgba(0, 0, 0, 0.15) 2px,
		rgba(0, 0, 0, 0.15) 3px
	);
	pointer-events: none;
	z-index: 9999; /* Ensure it's on top */
	mix-blend-mode: multiply; /* Better blending with content */
}
